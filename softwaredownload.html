<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <link rel="stylesheet" type="text/css" href="/bootstrap.css">
  <!--Favicons-->
  <link rel="apple-touch-icon" sizes="180x180" href="/favicon/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png">
  <link rel="manifest" href="/favicon/site.webmanifest">
  <link rel="mask-icon" href="/favicon/safari-pinned-tab.svg" color="#36464b">
  <link rel="shortcut icon" href="/favicon/favicon.ico">
  <meta name="msapplication-TileColor" content="#2b5797">
  <meta name="msapplication-config" content="/favicon/browserconfig.xml">
  <meta name="theme-color" content="#ffffff">
  <title id="title">Tabulate | Download</title>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="/bootstrap.min.js"></script>
  <script src="scripts.js"></script>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-167553203-1"></script>
  <script>
  window.dataLayer = window.dataLayer || [];

  function gtag() { dataLayer.push(arguments); }
  gtag('js', new Date());

  gtag('config', 'UA-167553203-1');
  </script>
</head>

<body>
  <div id="navbar">
    <nav class="navbar navbar-dark bg-primary" style="overflow: visable"><a type="button" class="btn btn-danger btn-lg" href="/nojs">No JavaScript?</a>
      <p class="text-warning">Please enable javascript in your browser or some critical features may not function.</p>
    </nav>
  </div>
  <div id="page-container">
    <div class="page-header">
      <h1 id="header">404 Error</h1>
    </div>
    <div class="jumbotron">
      <h1 class="display-3" id="jumbo-header">Unknown Software</h1>
      <p class="lead" id="downloadStart"></p>
      <hr class="my-4">
      <p>Enjoy my Work? Consider Donating!</p>
      <p class="lead">
        <a class="btn btn-primary btn-lg" href="/donate" role="button">Donate</a>
      </p>
    </div>
    <div id="downloadFrame"></div>
    <!-- LOAD NAVBAR-->
    <script>
    $(function() {
      $("#navbar").load("/navbar.html");
    });

    function toTitleCase(str) {
      return str.replace(/\w\S*/g, function(txt) {
        return txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase();
      });
    }

    var software = getUrlParam("software");
    if (software != undefined) {
      software = software.replace(/\..+$/, '');
      software = software.replace(/_/g, " ");
      software = toTitleCase(software);
      document.getElementById("title").innerHTML = "Tabulate | Download " + software;
      document.getElementById("header").innerHTML = software;
      document.getElementById("jumbo-header").innerHTML = "Thanks for Downloading " + software + "!";
      var softurl = getUrlParam("software", "empty");
      if(softurl == "formulas.py"){
        softurl = "formulas/formulas.py";
      }
      document.getElementById("downloadFrame").innerHTML = "<iframe src='https://tabulate.tech/calcplugins/" + getUrlParam("software", "empty") + "' frameborder=0 width='1px' height='1px'></iframe>"
      document.getElementById("downloadStart").innerHTML = "If your download does not start automatically, download it <a href='/calcplugins/" + getUrlParam("software") + "'>here.</a>";
    } else {
      document.getElementById("title").innerHTML = "Tabulate | Unknown software";
      document.getElementById("downloadStart").innerHTML = "No URL Parameter Found";
    }
    </script>
  </div>
</body>

</html>
